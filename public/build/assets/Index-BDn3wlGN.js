import{e as k,f as j,h as M,Q as B,c,o as d,a as s,u as i,g as $,w as n,d as m,b as e,F as p,r as F,S as u,t as f,s as x,_ as S,l as z,i as O,j as V}from"./app-F8B5DUc8.js";import{l as _}from"./lodash-TZocvuLE.js";import{_ as C}from"./PageHeading-BdhsYaIN.js";import{_ as N}from"./Card-D111JjpC.js";import{r as D,_ as A,a as E,b as P}from"./Pagination-BQhaW_zd.js";import{_ as Q}from"./InputText-CiFFRSDt.js";import{f as h}from"./format-Z2-Lf15G.js";import{r as q}from"./AcademicCapIcon-DoeRBS_G.js";import{r as G}from"./PlusIcon-DJ3CVRDP.js";import"./InputCheckbox-D8baZjQQ.js";const I={class:"flex flex-col-reverse items-stretch justify-between md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-3"},L={class:"flex flex-col w-full space-y-3 lg:w-2/3 md:space-y-0 md:flex-row md:items-center"},R={class:"flex-1 w-full md:max-w-xs md:mr-4"},T={class:"flex flex-wrap md:flex-nowrap gap-3"},U={class:"flex flex-col items-stretch justify-end flex-shrink-0 w-full pb-3 md:pb-0 md:w-auto md:flex-row md:items-center md:space-x-3"},Z={key:0},H={role:"list",class:"divide-y divide-gray-200"},J={class:"flex items-center space-x-4 overflow-hidden"},K={class:"flex flex-col"},W={class:"font-medium text-lg text-gray-900"},X={class:"sm:hidden text-gray-500"},Y={class:"hidden sm:flex items-center space-x-4 flex-1 justify-end overflow-hidden"},ee={class:"hidden sm:flex text-gray-700 truncate w-[200px]"},te={class:"hidden md:flex text-gray-700 truncate w-[160px]"},se={class:"hidden lg:flex text-gray-700 truncate w-[240px]"},ie={class:"ml-4 flex-shrink-0 flex space-x-3 text-gray-400"},re={key:1},ae={class:"text-center py-6"},le={class:"flex mt-6 justify-center"},he={__name:"Index",props:{certificates:Object,filters:Object,filterOptions:Array,sortOptions:Array},setup(y){const a=y,v=k(),l=j({search:a.filters.search,field:a.filters.field??"date_of_issue",direction:a.filters.direction??"desc",certificate_type:a.filters.certificate_type??[]}),g=({column:r,direction:t})=>{l.value.field=r,l.value.direction=t};function w(r){l.value.certificate_type=r.certificate_type||[]}function b(){l.value.search=null,l.value.certificate_type=[]}return M(l,_.debounce(function(r){const t={..._.pickBy(r),certificate_type:r.certificate_type.length?r.certificate_type.join(","):void 0};B.get(route("member.certificate.index"),_.pickBy(t),{preserveState:!0,replace:!0,preserveScroll:!0})},200),{deep:!0}),(r,t)=>(d(),c(p,null,[s(i($),{title:"Mijn Brevetten"}),s(C,{title:"Mijn Brevetten"},{default:n(()=>t[1]||(t[1]=[m(" Op deze pagina kun je jouw behaalde duikbrevetten bekijken, toevoegen en beheren. Zo houden we samen je voortgang en kwalificaties overzichtelijk en up-to-date binnen Duikclub Nemo. ")])),_:1,__:[1]}),s(N,null,{header:n(()=>[e("div",I,[e("div",L,[e("div",R,[s(Q,{type:"search",class:"block w-full",modelValue:l.value.search,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.search=o),placeholder:"Brevet zoeken..."},null,8,["modelValue"])]),e("div",T,[s(E,{class:"flex-1 md:flex-none",columns:a.sortOptions,sortColumn:l.value.field,sortDirection:l.value.direction,onSort:g},null,8,["columns","sortColumn","sortDirection"]),s(P,{class:"flex-1 md:flex-none",filters:a.filterOptions,initialFilters:a.filters,searchFilters:!1,onFilter:w},null,8,["filters","initialFilters"])])]),e("div",U,[i(v).hasPermission("member.certificate.create")?(d(),z(i(u),{key:0,href:r.route("member.certificate.create")},{default:n(()=>[s(V,{class:"w-full"},{default:n(()=>[s(i(G),{class:"size-5 mr-2","aria-hidden":"true"}),t[2]||(t[2]=m(" Brevet toevoegen "))]),_:1,__:[2]})]),_:1},8,["href"])):O("",!0)])])]),default:n(()=>[a.certificates.data.length>0?(d(),c("div",Z,[e("ul",H,[(d(!0),c(p,null,F(a.certificates.data,o=>(d(),c("li",{key:o.id,class:"group flex items-center justify-between py-2 hover:bg-gray-50 transition overflow-hidden"},[e("div",J,[e("div",K,[e("div",W,[s(i(u),{href:r.route("member.certificate.show",o.id)},{default:n(()=>[m(f(o.title),1)]),_:2},1032,["href"])]),e("div",X,f(i(h)(o.date_of_issue,"d MMMM yyyy",{locale:i(x)})),1)])]),e("div",Y,[e("div",ee,f(i(h)(o.date_of_issue,"d MMMM yyyy",{locale:i(x)})),1),e("div",te,f(o.federation),1),e("div",se,f(o.certificate_number),1)]),e("div",ie,[s(i(u),{href:r.route("member.certificate.show",o.id)},{default:n(()=>[s(i(D),{class:"size-6"})]),_:2},1032,["href"])])]))),128))]),s(A,{meta:a.certificates.meta,stats:!0,only:["certificates"]},null,8,["meta"])])):(d(),c("div",re,[e("div",ae,[s(i(q),{class:"mx-auto size-12 text-gray-500","aria-hidden":"true"}),t[4]||(t[4]=e("h3",{class:"mt-2 text-sm font-semibold text-gray-900"},"Geen brevetten gevonden",-1)),t[5]||(t[5]=e("p",{class:"mt-1 text-sm text-gray-500"},"Mogelijk is er een filter actief, of zijn er nog geen brevetten toegevoegd.",-1)),e("div",le,[s(S,{type:"button",onClick:b},{default:n(()=>t[3]||(t[3]=[m(" Reset filters ")])),_:1,__:[3]})])])]))]),_:1})],64))}};export{he as default};
